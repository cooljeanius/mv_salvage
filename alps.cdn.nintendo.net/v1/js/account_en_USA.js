/* Modernizr 2.8.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-fontface-flexboxlegacy-cssanimations-csstransforms-csstransforms3d-csstransitions-inlinesvg-svg-shiv-cssclasses-addtest-prefixed-teststyles-testprop-testallprops-hasevent-prefixes-domprefixes-load
 */
;window._Modernizr=function(a,b,c){function B(a){j.cssText=a}function C(a,b){return B(m.join(a+";")+(b||""))}function D(a,b){return typeof a===b}function E(a,b){return!!~(""+a).indexOf(b)}function F(a,b){for(var d in a){var e=a[d];if(!E(e,"-")&&j[e]!==c)return b=="pfx"?e:!0}return!1}function G(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:D(f,"function")?f.bind(d||b):f}return!1}function H(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return D(b,"string")||D(b,"undefined")?F(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),G(e,b,c))}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={svg:"http://www.w3.org/2000/svg"},r={},s={},t={},u=[],v=u.slice,w,x=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},y=function(){function d(d,e){e=e||b.createElement(a[d]||"div"),d="on"+d;var f=d in e;return f||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(d,""),f=D(e[d],"function"),D(e[d],"undefined")||(e[d]=c),e.removeAttribute(d))),e=null,f}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return d}(),z={}.hasOwnProperty,A;!D(z,"undefined")&&!D(z.call,"undefined")?A=function(a,b){return z.call(a,b)}:A=function(a,b){return b in a&&D(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=v.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(v.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(v.call(arguments)))};return e}),r.flexboxlegacy=function(){return H("boxDirection")},r.cssanimations=function(){return H("animationName")},r.csstransforms=function(){return!!H("transform")},r.csstransforms3d=function(){var a=!!H("perspective");return a&&"webkitPerspective"in g.style&&x("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=b.offsetLeft===9&&b.offsetHeight===3}),a},r.csstransitions=function(){return H("transition")},r.fontface=function(){var a;return x('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&g.indexOf(d.split(" ")[0])===0}),a},r.svg=function(){return!!b.createElementNS&&!!b.createElementNS(q.svg,"svg").createSVGRect},r.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==q.svg};for(var I in r)A(r,I)&&(w=I.toLowerCase(),e[w]=r[I](),u.push((e[w]?"":"no-")+w));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)A(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},B(""),i=k=null,function(a,b){function l(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function m(){var a=s.elements;return typeof a=="string"?a.split(" "):a}function n(a){var b=j[a[h]];return b||(b={},i++,a[h]=i,j[i]=b),b}function o(a,c,d){c||(c=b);if(k)return c.createElement(a);d||(d=n(c));var g;return d.cache[a]?g=d.cache[a].cloneNode():f.test(a)?g=(d.cache[a]=d.createElem(a)).cloneNode():g=d.createElem(a),g.canHaveChildren&&!e.test(a)&&!g.tagUrn?d.frag.appendChild(g):g}function p(a,c){a||(a=b);if(k)return a.createDocumentFragment();c=c||n(a);var d=c.frag.cloneNode(),e=0,f=m(),g=f.length;for(;e<g;e++)d.createElement(f[e]);return d}function q(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?o(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+m().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function r(a){a||(a=b);var c=n(a);return s.shivCSS&&!g&&!c.hasCSS&&(c.hasCSS=!!l(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||q(a,c),a}var c="3.7.0",d=a.html5||{},e=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g,h="_html5shiv",i=0,j={},k;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",g="hidden"in a,k=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){g=!0,k=!0}})();var s={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:c,shivCSS:d.shivCSS!==!1,supportsUnknownElements:k,shivMethods:d.shivMethods!==!1,type:"default",shivDocument:r,createElement:o,createDocumentFragment:p};a.html5=s,r(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.hasEvent=y,e.testProp=function(a){return F([a])},e.testAllProps=H,e.testStyles=x,e.prefixed=function(a,b,c){return b?H(a,b,c):H(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+u.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(w(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),_Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
/* Riot v2.3.15, @license MIT, (c) 2015 Muut Inc. + contributors */
(function(e,t){"use strict";var n={version:"v2.3.15",settings:{}},r=0,i=[],o={},f="riot-",u=f+"tag",a="string",s="object",c="undefined",l="function",p=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,d=["_item","_id","_parent","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],g=(e&&e.document||{}).documentMode|0;n.observable=function(e){e=e||{};var t={},n=Array.prototype.slice,r=function(e,t){e.replace(/\S+/g,t)},i=function(t,n){Object.defineProperty(e,t,{value:n,enumerable:false,writable:false,configurable:false})};i("on",function(n,i){if(typeof i!="function")return e;r(n,function(e,n){(t[e]=t[e]||[]).push(i);i.typed=n>0});return e});i("off",function(n,i){if(n=="*"&&!i)t={};else{r(n,function(e){if(i){var n=t[e];for(var r=0,o;o=n&&n[r];++r){if(o==i)n.splice(r--,1)}}else delete t[e]})}return e});i("one",function(t,n){function r(){e.off(t,r);n.apply(e,arguments)}return e.on(t,r)});i("trigger",function(i){var o=n.call(arguments,1),f;r(i,function(r){f=n.call(t[r]||[],0);for(var i=0,u;u=f[i];++i){if(u.busy)return;u.busy=1;u.apply(e,u.typed?[r].concat(o):o);if(f[i]!==u){i--}u.busy=0}if(t["*"]&&r!="*")e.trigger.apply(e,["*",r].concat(o))});return e});return e};(function(t){var n=/^.+?\/+[^\/]+/,r="EventListener",i="remove"+r,o="add"+r,f="hasAttribute",u="replace",a="popstate",s="hashchange",c="trigger",l=3,p=typeof e!="undefined"&&e,d=typeof document!="undefined"&&document,g=p&&history,h=p&&(g.location||p.location),v=R.prototype,m=d&&d.ontouchstart?"touchstart":"click",y=false,b=t.observable(),x=false,w,_,N,C,E,L=[],S=0;function T(e){return e.split(/[\/?#]/)}function M(e,t){var n=new RegExp("^"+t[u](/\*/g,"([^/?#]+?)")[u](/\.\./,".*")+"$"),r=e.match(n);if(r)return r.slice(1)}function O(e,t){var n;return function(){clearTimeout(n);n=setTimeout(e,t)}}function A(e){w=O(H,1);p[o](a,w);p[o](s,w);d[o](m,F);if(e)H(true)}function R(){this.$=[];t.observable(this);b.on("stop",this.s.bind(this));b.on("emit",this.e.bind(this))}function $(e){return e[u](/^\/|\/$/,"")}function j(e){return typeof e=="string"}function k(e){return(e||h.href||"")[u](n,"")}function I(e){return _[0]=="#"?(e||h.href||"").split(_)[1]||"":k(e)[u](_,"")}function H(e){var t=S==0;if(l<=S)return;S++;L.push(function(){var t=I();if(e||t!=N){b[c]("emit",t);N=t}});if(t){while(L.length){L[0]();L.shift()}S=0}}function F(e){if(e.which!=1||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)return;var t=e.target;while(t&&t.nodeName!="A")t=t.parentNode;if(!t||t.nodeName!="A"||t[f]("download")||!t[f]("href")||t.target&&t.target!="_self"||t.href.indexOf(h.href.match(n)[0])==-1)return;if(t.href!=h.href){if(t.href.split("#")[0]==h.href.split("#")[0]||_!="#"&&k(t.href).indexOf(_)!==0||!B(I(t.href),t.title||d.title))return}e.preventDefault()}function B(e,t,n){if(g){e=_+$(e);t=t||d.title;n?g.replaceState(null,t,e):g.pushState(null,t,e);d.title=t;x=false;H();return x}return b[c]("emit",I(e))}v.m=function(e,t,n){if(j(e)&&(!t||j(t)))B(e,t,n||false);else if(t)this.r(e,t);else this.r("@",e)};v.s=function(){this.off("*");this.$=[]};v.e=function(e){this.$.concat("@").some(function(t){var n=(t=="@"?C:E)($(e),$(t));if(typeof n!="undefined"){this[c].apply(null,[t].concat(n));return x=true}},this)};v.r=function(e,t){if(e!="@"){e="/"+$(e);this.$.push(e)}this.on(e,t)};var P=new R;var K=P.m.bind(P);K.create=function(){var e=new R;e.m.stop=e.s.bind(e);return e.m.bind(e)};K.base=function(e){_=e||"#";N=I()};K.exec=function(){H(true)};K.parser=function(e,t){if(!e&&!t){C=T;E=M}if(e)C=e;if(t)E=t};K.query=function(){var e={};var t=h.href||N;t[u](/[?&](.+?)=([^&]*)/g,function(t,n,r){e[n]=r});return e};K.stop=function(){if(y){if(p){p[i](a,w);p[i](s,w);d[i](m,F)}b[c]("stop");y=false}};K.start=function(e){if(!y){if(p){if(document.readyState=="complete")A(e);else p[o]("load",function(){setTimeout(function(){A(e)},1)})}y=true}};K.base();K.parser();t.route=K})(n);var h=function(e){var t="g",r=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,i=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,o=i.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,f={"(":RegExp("([()])|"+o,t),"[":RegExp("([[\\]])|"+o,t),"{":RegExp("([{}])|"+o,t)},u="{ }";var a=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+o,t),u,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var s=e,c,l=[],p;function d(e){return e}function g(e,n){if(!n)n=l;return new RegExp(e.source.replace(/{/g,n[2]).replace(/}/g,n[3]),e.global?t:"")}function h(e){if(e===u)return a;var n=e.split(" ");if(n.length!==2||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e)){throw new Error('Unsupported brackets "'+e+'"')}n=n.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" "));n[4]=g(n[1].length>1?/{[\S\s]*?}/:a[4],n);n[5]=g(e.length>3?/\\({|})/g:a[5],n);n[6]=g(a[6],n);n[7]=RegExp("\\\\("+n[3]+")|([[({])|("+n[3]+")|"+o,t);n[8]=e;return n}function v(e){return e instanceof RegExp?c(e):l[e]}v.split=function b(e,t,n){if(!n)n=l;var r=[],i,o,u,a,s=n[6];o=u=s.lastIndex=0;while(i=s.exec(e)){a=i.index;if(o){if(i[2]){s.lastIndex=p(e,i[2],s.lastIndex);continue}if(!i[3])continue}if(!i[1]){c(e.slice(u,a));u=s.lastIndex;s=n[6+(o^=1)];s.lastIndex=u}}if(e&&u<e.length){c(e.slice(u))}return r;function c(e){if(t||o)r.push(e&&e.replace(n[5],"$1"));else r.push(e)}function p(e,t,n){var r,i=f[t];i.lastIndex=n;n=1;while(r=i.exec(e)){if(r[1]&&!(r[1]===t?++n:--n))break}return n?e.length:i.lastIndex}};v.hasExpr=function x(e){return l[4].test(e)};v.loopKeys=function w(e){var t=e.match(l[9]);return t?{key:t[1],pos:t[2],val:l[0]+t[3].trim()+l[1]}:{val:e.trim()}};v.hasRaw=function(e){return l[10].test(e)};v.array=function _(e){return e?h(e):l};function m(e){if((e||(e=u))!==l[8]){l=h(e);c=e===u?d:g;l[9]=c(a[9]);l[10]=c(a[10])}s=e}function y(e){var t;e=e||{};t=e.brackets;Object.defineProperty(e,"brackets",{set:m,get:function(){return s},enumerable:true});p=e;m(t)}Object.defineProperty(v,"settings",{set:y,get:function(){return p}});v.settings=typeof n!=="undefined"&&n.settings||{};v.set=m;v.R_STRINGS=i;v.R_MLCOMMS=r;v.S_QBLOCKS=o;return v}();var v=function(){var t={};function n(e,n){if(!e)return e;return(t[e]||(t[e]=i(e))).call(n,r)}n.haveRaw=h.hasRaw;n.hasExpr=h.hasExpr;n.loopKeys=h.loopKeys;n.errorHandler=null;function r(e,t){if(n.errorHandler){e._riotData={tagName:t&&t.root&&t.root.tagName,_riot_id:t&&t._riot_id};n.errorHandler(e)}}function i(e){var t=u(e);if(t.slice(0,11)!=="try{return ")t="return "+t;return new Function("E",t+";")}var o=RegExp(h.S_QBLOCKS,"g"),f=/\x01(\d+)~/g;function u(e){var t=[],n,r=h.split(e.replace(/\u2057/g,'"'),1);if(r.length>2||r[0]){var i,o,u=[];for(i=o=0;i<r.length;++i){n=r[i];if(n&&(n=i&1?c(n,1,t):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"'))u[o++]=n}n=o<2?u[0]:"["+u.join(",")+'].join("")'}else{n=c(r[1],0,t)}if(t[0])n=n.replace(f,function(e,n){return t[n].replace(/\r/g,"\\r").replace(/\n/g,"\\n")});return n}var a={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},s=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\x01(\d+)~):/;function c(e,t,n){if(e[0]==="=")e=e.slice(1);e=e.replace(o,function(e,t){return e.length>2&&!t?""+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(e){var r=[],i=0,f;while(e&&(f=e.match(s))&&!f.index){var u,c,l=/,|([[{(])|$/g;e=RegExp.rightContext;u=f[2]?n[f[2]].slice(1,-1).trim().replace(/\s+/g," "):f[1];while(c=(f=l.exec(e))[1])p(c,l);c=e.slice(0,f.index);e=RegExp.rightContext;r[i++]=g(c,1,u)}e=!i?g(e,t):i>1?"["+r.join(",")+'].join(" ").trim()':r[0]}return e;function p(t,n){var r,i=1,o=a[t];o.lastIndex=n.lastIndex;while(r=o.exec(e)){if(r[0]===t)++i;else if(!--i)break}n.lastIndex=i?e.length:o.lastIndex}}var l='"in this?this:'+(typeof e!=="object"?"global":"window")+").",p=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,d=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function g(e,t,n){var r;e=e.replace(p,function(e,t,n,i,o){if(n){i=r?0:i+e.length;if(n!=="this"&&n!=="global"&&n!=="window"){e=t+'("'+n+l+n;if(i)r=(o=o[i])==="."||o==="("||o==="["}else if(i){r=!d.test(o.slice(i))}}return e});if(r){e="try{return "+e+"}catch(e){E(e,this)}"}if(n){e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""'}else if(t){e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'}return e}n.parse=function(e){return e};n.version=h.version="v2.3.21";return n}();var m=function(e){var t=/<yield\s+to=(['"])?@\1\s*>([\S\s]+?)<\/yield\s*>/.source,n={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},r="div";e=e&&e<10;var i=e?p:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;function o(e,t){var n=e&&e.match(/^\s*<([-\w]+)/),o=n&&n[1].toLowerCase(),a=Y(r);e=u(e,t||"");if(i.test(o))a=f(a,e,o);else a.innerHTML=e;a.stub=true;return a}function f(e,t,r){var i=r[0]==="o",o=i?"select>":"table>";e.innerHTML="<"+o+t.trim()+"</"+o;o=e.firstChild;if(i){o.selectedIndex=-1}else{var f=n[r];if(f&&o.children.length===1)o=ee(f,o)}return o}function u(e,n){if(!/<yield\b/i.test(e))return e;var r=0;e=e.replace(/<yield\s+from=['"]([-\w]+)['"]\s*(?:\/>|>\s*<\/yield\s*>)/gi,function(e,i){var o=n.match(RegExp(t.replace("@",i),"i"));++r;return o&&o[2]||""});return r?e:e.replace(/<yield\s*(?:\/>|>\s*<\/yield\s*>)/gi,n)}return o}(g);function y(e,t,n){var r={};r[e.key]=t;if(e.pos)r[e.pos]=n;return r}function b(e,t){var n=t.length,r=e.length,i;while(n>r){i=t[--n];t.splice(n,1);i.unmount()}}function x(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];if(V(r))A(r,function(e){B(e,n,t)});else B(r,n,t)})}function w(e,t,n){var r=e._root,i;e._virts=[];while(r){i=r.nextSibling;if(n)t.insertBefore(r,n._root);else t.appendChild(r);e._virts.push(r);r=i}}function _(e,t,n,r){var i=e._root,o,f=0;for(;f<r;f++){o=i.nextSibling;t.insertBefore(i,n._root);i=o}}function N(e,t,n){$(e,"each");var r=typeof k(e,"no-reorder")!==a||$(e,"no-reorder"),i=q(e),f=o[i]||{tmpl:e.outerHTML},u=p.test(i),s=e.parentNode,c=document.createTextNode(""),l=H(e),d=/^option$/i.test(i),g=[],h=[],m,N=e.tagName=="VIRTUAL";n=v.loopKeys(n);s.insertBefore(c,e);t.one("before-mount",function(){e.parentNode.removeChild(e);if(s.stub)s=t.root}).on("update",function(){var a=v(n.val,t),p=document.createDocumentFragment();if(!V(a)){m=a||false;a=m?Object.keys(a).map(function(e){return y(n,e,a[e])}):[]}a.forEach(function(a,c){var d=r&&a instanceof Object,v=h.indexOf(a),b=~v&&d?v:c,C=g[b];a=!m&&n.key?y(n,a,c):a;if(!d&&!C||d&&!~v||!C){C=new S(f,{parent:t,isLoop:true,hasImpl:!!o[i],root:u?s:e.cloneNode(),item:a},e.innerHTML);C.mount();if(N)C._root=C.root.firstChild;if(c==g.length){if(N)w(C,p);else p.appendChild(C.root)}else{if(N)w(C,s,g[c]);else s.insertBefore(C.root,g[c].root);h.splice(c,0,a)}g.splice(c,0,C);b=c}else C.update(a);if(b!==c&&d){if(N)_(C,s,g[c],e.childNodes.length);else s.insertBefore(C.root,g[c].root);if(n.pos)C[n.pos]=c;g.splice(c,0,g.splice(b,1)[0]);h.splice(c,0,h.splice(b,1)[0]);if(!l&&C.tags)x(C,c)}C._item=a;D(C,"_parent",t)});b(a,g);if(d)s.appendChild(p);else s.insertBefore(p,c);if(l)t.tags[i]=g;h=a.slice()})}var C=function(t){if(!e)return{add:function(){},inject:function(){}};var n=function(){var e=Y("style");I(e,"type","text/css");var t=ee("style[type=riot]");if(t){if(t.id)e.id=t.id;t.parentNode.replaceChild(e,t)}else document.getElementsByTagName("head")[0].appendChild(e);return e}();var r=n.styleSheet,i="";Object.defineProperty(t,"styleNode",{value:n,writable:true});return{add:function(e){i+=e},inject:function(){if(i){if(r)r.cssText+=i;else n.innerHTML+=i;i=""}}}}(n);function E(e,t,n,r){G(e,function(e){if(e.nodeType==1){e.isLoop=e.isLoop||(e.parentNode&&e.parentNode.isLoop||k(e,"each"))?1:0;if(n){var i=H(e);if(i&&!e.isLoop)n.push(P(i,{root:e,parent:t},e.innerHTML,t))}if(!e.isLoop||r)re(e,t,[])}})}function L(e,t,n){function r(e,t,r){if(v.hasExpr(t)){n.push(z({dom:e,expr:t},r))}}G(e,function(e){var n=e.nodeType,i;if(n==3&&e.parentNode.tagName!="STYLE")r(e,e.nodeValue);if(n!=1)return;i=k(e,"each");if(i){N(e,t,i);return false}A(e.attributes,function(t){var n=t.name,i=n.split("__")[1];r(e,t.value,{attr:i||n,bool:i});if(i){$(e,n);return false}});if(H(e))return false})}function S(e,o,f){var u=n.observable(this),l=te(o.opts)||{},p=o.parent,g=o.isLoop,h=o.hasImpl,y=Q(o.item),b=[],x=[],w=o.root,_=e.fn,N=w.tagName.toLowerCase(),C={},S=[],T;if(_&&w._tag)w._tag.unmount(true);this.isMounted=false;w.isLoop=g;w._tag=this;D(this,"_riot_id",++r);z(this,{parent:p,root:w,opts:l,tags:{}},y);A(w.attributes,function(e){var t=e.value;if(v.hasExpr(t))C[e.name]=t});T=m(e.tmpl,f);function M(){var e=h&&g?u:p||u;A(w.attributes,function(t){var n=t.value;l[j(t.name)]=v.hasExpr(n)?v(n,e):n});A(Object.keys(C),function(t){l[j(t)]=v(C[t],e)})}function k(e){for(var t in y){if(typeof u[t]!==c&&Z(u,t))u[t]=e[t]}}function H(){if(!u.parent||!g)return;A(Object.keys(u.parent),function(e){var t=!U(d,e)&&U(S,e);if(typeof u[e]===c||t){if(!t)S.push(e);u[e]=u.parent[e]}})}D(this,"update",function(e){e=Q(e);H();if(e&&typeof y===s){k(e);y=e}z(u,e);M();u.trigger("update",e);O(b,u);oe(function(){u.trigger("updated")});return this});D(this,"mixin",function(){A(arguments,function(e){var t;e=typeof e===a?n.mixin(e):e;if(R(e)){t=new e;e=e.prototype}else t=e;A(Object.getOwnPropertyNames(e),function(e){if(e!="init")u[e]=R(t[e])?t[e].bind(u):t[e]});if(t.init)t.init.bind(u)()});return this});D(this,"mount",function(){M();if(_)_.call(u,l);L(T,u,b);F(true);if(e.attrs||h){W(e.attrs,function(e,t){I(w,e,t)});L(u.root,u,b)}if(!u.parent||g)u.update(y);u.trigger("before-mount");if(g&&!h){u.root=w=T.firstChild}else{while(T.firstChild)w.appendChild(T.firstChild);if(w.stub)u.root=w=p.root}if(g)E(u.root,u.parent,null,true);if(!u.parent||u.parent.isMounted){u.isMounted=true;u.trigger("mount")}else u.parent.one("mount",function(){if(!X(u.root)){u.parent.isMounted=u.isMounted=true;u.trigger("mount")}})});D(this,"unmount",function(e){var n=w,r=n.parentNode,o,f=i.indexOf(u);u.trigger("before-unmount");if(~f)i.splice(f,1);if(this._virts){A(this._virts,function(e){if(e.parentNode)e.parentNode.removeChild(e)})}if(r){if(p){o=K(p);if(V(o.tags[N]))A(o.tags[N],function(e,t){if(e._riot_id==u._riot_id)o.tags[N].splice(t,1)});else o.tags[N]=t}else while(n.firstChild)n.removeChild(n.firstChild);if(!e)r.removeChild(n);else $(r,"riot-tag")}u.trigger("unmount");F();u.off("*");u.isMounted=false;delete w._tag});function F(e){A(x,function(t){t[e?"mount":"unmount"]()});if(!p)return;var t=e?"on":"off";if(g)p[t]("unmount",u.unmount);else p[t]("update",u.update)[t]("unmount",u.unmount)}E(T,this,x)}function T(t,n,r,i){r[t]=function(t){var o=i._parent,f=i._item,u;if(!f)while(o&&!f){f=o._item;o=o._parent}t=t||e.event;if(Z(t,"currentTarget"))t.currentTarget=r;if(Z(t,"target"))t.target=t.srcElement;if(Z(t,"which"))t.which=t.charCode||t.keyCode;t.item=f;if(n.call(i,t)!==true&&!/radio|check/.test(r.type)){if(t.preventDefault)t.preventDefault();t.returnValue=false}if(!t.preventUpdate){u=f?K(o):i;u.update()}}}function M(e,t,n){if(!e)return;e.insertBefore(n,t);e.removeChild(t)}function O(e,t){A(e,function(e,n){var r=e.dom,i=e.attr,o=v(e.expr,t),a=e.dom.parentNode;if(e.bool)o=o?i:false;else if(o==null)o="";if(a&&a.tagName=="TEXTAREA"){o=(""+o).replace(/riot-/g,"");a.value=o}if(e.value===o)return;e.value=o;if(!i){r.nodeValue=""+o;return}$(r,i);if(R(o)){T(i,o,r,t)}else if(i=="if"){var c=e.stub,l=function(){M(c.parentNode,c,r)},p=function(){M(r.parentNode,r,c)};if(o){if(c){l();r.inStub=false;if(!X(r)){G(r,function(e){if(e._tag&&!e._tag.isMounted)e._tag.isMounted=!!e._tag.trigger("mount")})}}}else{c=e.stub=c||document.createTextNode("");if(r.parentNode)p();else(t.parent||t).one("updated",p);r.inStub=true}}else if(/^(show|hide)$/.test(i)){if(i=="hide")o=!o;r.style.display=o?"":"none"}else if(i=="value"){r.value=o}else if(ie(i,f)&&i!=u){if(o)I(r,i.slice(f.length),o)}else{if(e.bool){r[i]=o;if(!o)return}if(o===0||o&&typeof o!==s)I(r,i,o)}})}function A(e,t){var n=e?e.length:0;for(var r=0,i;r<n;r++){i=e[r];if(i!=null&&t(i,r)===false)r--}return e}function R(e){return typeof e===l||false}function $(e,t){e.removeAttribute(t)}function j(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function k(e,t){return e.getAttribute(t)}function I(e,t,n){e.setAttribute(t,n)}function H(e){return e.tagName&&o[k(e,u)||e.tagName.toLowerCase()]}function F(e,t,n){var r=n.tags[t];if(r){if(!V(r))if(r!==e)n.tags[t]=[r];if(!U(n.tags[t],e))n.tags[t].push(e)}else{n.tags[t]=e}}function B(e,t,n){var r=e.parent,i;if(!r)return;i=r.tags[t];if(V(i))i.splice(n,0,i.splice(i.indexOf(e),1)[0]);else F(e,t,r)}function P(e,t,n,r){var i=new S(e,t,n),o=q(t.root),f=K(r);i.parent=f;i._parent=r;F(i,o,f);if(f!==r)F(i,o,r);t.root.innerHTML="";return i}function K(e){var t=e;while(!H(t.root)){if(!t.parent)break;t=t.parent}return t}function D(e,t,n,r){Object.defineProperty(e,t,z({value:n,enumerable:false,writable:false,configurable:false},r));return e}function q(e){var t=H(e),n=k(e,"name"),r=n&&!v.hasExpr(n)?n:t?t.name:e.tagName.toLowerCase();return r}function z(e){var t,n=arguments;for(var r=1;r<n.length;++r){if(t=n[r]){for(var i in t){if(Z(e,i))e[i]=t[i]}}}return e}function U(e,t){return~e.indexOf(t)}function V(e){return Array.isArray(e)||e instanceof Array}function Z(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===c||n&&n.writable}function Q(e){if(!(e instanceof S)&&!(e&&typeof e.trigger==l))return e;var t={};for(var n in e){if(!U(d,n))t[n]=e[n]}return t}function G(e,t){if(e){if(t(e)===false)return;else{e=e.firstChild;while(e){G(e,t);e=e.nextSibling}}}}function W(e,t){var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;while(n=r.exec(e)){t(n[1].toLowerCase(),n[2]||n[3]||n[4])}}function X(e){while(e){if(e.inStub)return true;e=e.parentNode}return false}function Y(e){return document.createElement(e)}function J(e,t){return(t||document).querySelectorAll(e)}function ee(e,t){return(t||document).querySelector(e)}function te(e){function t(){}t.prototype=e;return new t}function ne(e){return k(e,"id")||k(e,"name")}function re(e,t,n){var r=ne(e),i,o=function(o){if(U(n,r))return;i=V(o);if(!o)t[r]=e;else if(!i||i&&!U(o,e)){if(i)o.push(e);else t[r]=[o,e]}};if(!r)return;if(v.hasExpr(r))t.one("mount",function(){r=ne(e);o(t[r])});else o(t[r])}function ie(e,t){return e.slice(0,t.length)===t}var oe=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),r=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+r)},r)}}return t}(e||{});function fe(e,t,n){var r=o[t],f=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";if(r&&e)r=new S(r,{root:e,opts:n},f);if(r&&r.mount){r.mount();if(!U(i,r))i.push(r)}return r}n.util={brackets:h,tmpl:v};n.mixin=function(){var e={};return function(t,n){if(!n)return e[t];e[t]=n}}();n.tag=function(e,t,n,r,i){if(R(r)){i=r;if(/^[\w\-]+\s?=/.test(n)){r=n;n=""}else r=""}if(n){if(R(n))i=n;else C.add(n)}o[e]={name:e,tmpl:t,attrs:r,fn:i};return e};n.tag2=function(e,t,n,r,i,f){if(n)C.add(n);o[e]={name:e,tmpl:t,attrs:r,fn:i};return e};n.mount=function(e,t,n){var r,i,f=[];function c(e){var t="";A(e,function(e){if(!/[^-\w]/.test(e))t+=",*["+u+"="+e.trim()+"]"});return t}function l(){var e=Object.keys(o);return e+c(e)}function p(e){var r;if(e.tagName){if(t&&(!(r=k(e,u))||r!=t))I(e,u,t);var i=fe(e,t||e.getAttribute(u)||e.tagName.toLowerCase(),n);if(i)f.push(i)}else if(e.length)A(e,p)}C.inject();if(typeof t===s){n=t;t=0}if(typeof e===a){if(e==="*")e=i=l();else e+=c(e.split(","));r=e?J(e):[]}else r=e;if(t==="*"){t=i||l();if(r.tagName)r=J(t,r);else{var d=[];A(r,function(e){d.push(J(t,e))});r=d}t=0}if(r.tagName)p(r);else A(r,p);return f};n.update=function(){return A(i,function(e){e.update()})};n.Tag=S;if(typeof exports===s)module.exports=n;else if(typeof define===l&&typeof define.amd!==c)define(function(){return n});else e._riot=n})(typeof window!="undefined"?window:void 0);

/*
 UriTemplate Copyright (c) 2012-2013 Franz Antesberger. All Rights Reserved.
 Available via the MIT license.
*/
!function(e){"use strict";function t(e){var n;if(null===e||void 0===e)return!1;if(r.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(n in e)if(e.hasOwnProperty(n)&&t(e[n]))return!0;return!1}var n=function(){function e(e){this.options=e}return e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},e}(),r=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"[object String]"===Object.prototype.toString.apply(e)}function n(e){return"[object Number]"===Object.prototype.toString.apply(e)}function r(e){return"[object Boolean]"===Object.prototype.toString.apply(e)}function i(e,t){var n,r="",i=!0;for(n=0;n<e.length;n+=1)i?i=!1:r+=t,r+=e[n];return r}function o(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}function s(e,t){for(var n=[],r=0;r<e.length;r+=1)t(e[r])&&n.push(e[r]);return n}function a(e){if("object"!=typeof e||null===e)return e;Object.freeze(e);var t,n;for(n in e)e.hasOwnProperty(n)&&(t=e[n],"object"==typeof t&&u(t));return e}function u(e){return"function"==typeof Object.freeze?a(e):e}return{isArray:e,isString:t,isNumber:n,isBoolean:r,join:i,map:o,filter:s,deepFreeze:u}}(),i=function(){function e(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e}function t(e){return e>="0"&&"9">=e}function n(e){return t(e)||e>="a"&&"f">=e||e>="A"&&"F">=e}return{isAlpha:e,isDigit:t,isHexDigit:n}}(),o=function(){function e(e){var t,n,r="",i=s.encode(e);for(n=0;n<i.length;n+=1)t=i.charCodeAt(n),r+="%"+(16>t?"0":"")+t.toString(16).toUpperCase();return r}function t(e,t){return"%"===e.charAt(t)&&i.isHexDigit(e.charAt(t+1))&&i.isHexDigit(e.charAt(t+2))}function n(e,t){return parseInt(e.substr(t,2),16)}function r(e){if(!t(e,0))return!1;var r=n(e,1),i=s.numBytes(r);if(0===i)return!1;for(var o=1;i>o;o+=1)if(!t(e,3*o)||!s.isValidFollowingCharCode(n(e,3*o+1)))return!1;return!0}function o(e,r){var i=e.charAt(r);if(!t(e,r))return i;var o=n(e,r+1),a=s.numBytes(o);if(0===a)return i;for(var u=1;a>u;u+=1)if(!t(e,r+3*u)||!s.isValidFollowingCharCode(n(e,r+3*u+1)))return i;return e.substr(r,3*a)}var s={encode:function(e){return unescape(encodeURIComponent(e))},numBytes:function(e){return 127>=e?1:e>=194&&223>=e?2:e>=224&&239>=e?3:e>=240&&244>=e?4:0},isValidFollowingCharCode:function(e){return e>=128&&191>=e}};return{encodeCharacter:e,isPctEncoded:r,pctCharAt:o}}(),s=function(){function e(e){return i.isAlpha(e)||i.isDigit(e)||"_"===e||o.isPctEncoded(e)}function t(e){return i.isAlpha(e)||i.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e}function n(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}return{isVarchar:e,isUnreserved:t,isReserved:n}}(),a=function(){function e(e,t){var n,r="",i="";for(("number"==typeof e||"boolean"==typeof e)&&(e=e.toString()),n=0;n<e.length;n+=i.length)i=e.charAt(n),r+=s.isUnreserved(i)||t&&s.isReserved(i)?i:o.encodeCharacter(i);return r}function t(t){return e(t,!0)}function n(e,t){var n=o.pctCharAt(e,t);return n.length>1?n:s.isReserved(n)||s.isUnreserved(n)?n:o.encodeCharacter(n)}function r(e){var t,n="",r="";for(t=0;t<e.length;t+=r.length)r=o.pctCharAt(e,t),n+=r.length>1?r:s.isReserved(r)||s.isUnreserved(r)?r:o.encodeCharacter(r);return n}return{encode:e,encodePassReserved:t,encodeLiteral:r,encodeLiteralCharacter:n}}(),u=function(){function e(e){t[e]={symbol:e,separator:"?"===e?"&":""===e||"+"===e||"#"===e?",":e,named:";"===e||"&"===e||"?"===e,ifEmpty:"&"===e||"?"===e?"=":"",first:"+"===e?"":e,encode:"+"===e||"#"===e?a.encodePassReserved:a.encode,toString:function(){return this.symbol}}}var t={};return e(""),e("+"),e("#"),e("."),e("/"),e(";"),e("?"),e("&"),{valueOf:function(e){return t[e]?t[e]:"=,!@|".indexOf(e)>=0?null:t[""]}}}(),f=function(){function e(e){this.literal=a.encodeLiteral(e)}return e.prototype.expand=function(){return this.literal},e.prototype.toString=e.prototype.expand,e}(),p=function(){function e(e){function t(){var t=e.substring(h,f);if(0===t.length)throw new n({expressionText:e,message:"a varname must be specified",position:f});c={varname:t,exploded:!1,maxLength:null},h=null}function r(){if(d===f)throw new n({expressionText:e,message:"after a ':' you have to specify the length",position:f});c.maxLength=parseInt(e.substring(d,f),10),d=null}var a,f,p=[],c=null,h=null,d=null,g="";for(a=function(t){var r=u.valueOf(t);if(null===r)throw new n({expressionText:e,message:"illegal use of reserved operator",position:f,operator:t});return r}(e.charAt(0)),f=a.symbol.length,h=f;f<e.length;f+=g.length){if(g=o.pctCharAt(e,f),null!==h){if("."===g){if(h===f)throw new n({expressionText:e,message:"a varname MUST NOT start with a dot",position:f});continue}if(s.isVarchar(g))continue;t()}if(null!==d){if(f===d&&"0"===g)throw new n({expressionText:e,message:"A :prefix must not start with digit 0",position:f});if(i.isDigit(g)){if(f-d>=4)throw new n({expressionText:e,message:"A :prefix must have max 4 digits",position:f});continue}r()}if(":"!==g)if("*"!==g){if(","!==g)throw new n({expressionText:e,message:"illegal character",character:g,position:f});p.push(c),c=null,h=f+1}else{if(null===c)throw new n({expressionText:e,message:"exploded without varspec",position:f});if(c.exploded)throw new n({expressionText:e,message:"exploded twice",position:f});if(c.maxLength)throw new n({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:f});c.exploded=!0}else{if(null!==c.maxLength)throw new n({expressionText:e,message:"only one :maxLength is allowed per varspec",position:f});if(c.exploded)throw new n({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:f});d=f+1}}return null!==h&&t(),null!==d&&r(),p.push(c),new l(e,a,p)}function t(t){var r,i,o=[],s=null,a=0;for(r=0;r<t.length;r+=1)if(i=t.charAt(r),null===a){if(null===s)throw new Error("reached unreachable code");if("{"===i)throw new n({templateText:t,message:"brace already opened",position:r});if("}"===i){if(s+1===r)throw new n({templateText:t,message:"empty braces",position:s});try{o.push(e(t.substring(s+1,r)))}catch(u){if(u.prototype===n.prototype)throw new n({templateText:t,message:u.options.message,position:s+u.options.position,details:u.options});throw u}s=null,a=r+1}}else{if("}"===i)throw new n({templateText:t,message:"unopened brace closed",position:r});"{"===i&&(r>a&&o.push(new f(t.substring(a,r))),a=null,s=r)}if(null!==s)throw new n({templateText:t,message:"unclosed brace",position:s});return a<t.length&&o.push(new f(t.substr(a))),new c(t,o)}return t}(),l=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function n(e){if(!t(e))return!0;if(r.isString(e))return""===e;if(r.isNumber(e)||r.isBoolean(e))return!1;if(r.isArray(e))return 0===e.length;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function i(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({name:t,value:e[t]});return n}function o(e,t,n){this.templateText=e,this.operator=t,this.varspecs=n}function s(e,t,n){var r="";if(n=n.toString(),t.named){if(r+=a.encodeLiteral(e.varname),""===n)return r+=t.ifEmpty;r+="="}return null!==e.maxLength&&(n=n.substr(0,e.maxLength)),r+=t.encode(n)}function u(e){return t(e.value)}function f(e,o,s){var f=[],p="";if(o.named){if(p+=a.encodeLiteral(e.varname),n(s))return p+=o.ifEmpty;p+="="}return r.isArray(s)?(f=s,f=r.filter(f,t),f=r.map(f,o.encode),p+=r.join(f,",")):(f=i(s),f=r.filter(f,u),f=r.map(f,function(e){return o.encode(e.name)+","+o.encode(e.value)}),p+=r.join(f,",")),p}function p(e,o,s){var f=r.isArray(s),p=[];return f?(p=s,p=r.filter(p,t),p=r.map(p,function(t){var r=a.encodeLiteral(e.varname);return r+=n(t)?o.ifEmpty:"="+o.encode(t)})):(p=i(s),p=r.filter(p,u),p=r.map(p,function(e){var t=a.encodeLiteral(e.name);return t+=n(e.value)?o.ifEmpty:"="+o.encode(e.value)})),r.join(p,o.separator)}function l(e,n){var o=[],s="";return r.isArray(n)?(o=n,o=r.filter(o,t),o=r.map(o,e.encode),s+=r.join(o,e.separator)):(o=i(n),o=r.filter(o,function(e){return t(e.value)}),o=r.map(o,function(t){return e.encode(t.name)+"="+e.encode(t.value)}),s+=r.join(o,e.separator)),s}return o.prototype.toString=function(){return this.templateText},o.prototype.expand=function(i){var o,a,u,c,h=[],d=!1,g=this.operator;for(o=0;o<this.varspecs.length;o+=1)if(a=this.varspecs[o],u=i[a.varname],null!==u&&void 0!==u)if(a.exploded&&(d=!0),c=r.isArray(u),"string"==typeof u||"number"==typeof u||"boolean"==typeof u)h.push(s(a,g,u));else{if(a.maxLength&&t(u))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(u));a.exploded?t(u)&&(g.named?h.push(p(a,g,u)):h.push(l(g,u))):(g.named||!n(u))&&h.push(f(a,g,u))}return 0===h.length?"":g.first+r.join(h,g.separator)},o}(),c=function(){function e(e,t){this.templateText=e,this.expressions=t,r.deepFreeze(this)}return e.prototype.toString=function(){return this.templateText},e.prototype.expand=function(e){var t,n="";for(t=0;t<this.expressions.length;t+=1)n+=this.expressions[t].expand(e);return n},e.parse=p,e._UriTemplateError=n,e}();e(c)}(function(e){"use strict";"undefined"!=typeof module?module.exports=e:"function"==typeof define?define([],function(){return e}):"undefined"!=typeof window?window._UriTemplate=e:global._UriTemplate=e});

_riot.tag2("alps-loading-indicator",'<div class="alps-loading-indicator"><div class="alps-loading-parts"><i class="alps-loading-part-1"></i><i class="alps-loading-part-2"></i><i class="alps-loading-part-3"></i><i class="alps-loading-part-4"></i></div></div>',"","",function(a){}),_riot.tag2("alps-plugin-overlay",'<div class="alps-plugin-overlay" onclick="{togglePanel}"></div>',"","",function(a){var b=Alps.View.Overlay;this.togglePanel=b.togglePanel},"{ }"),_riot.tag2("alps-translate","","","",function(a){this.text=Alps.translate(a.id,a.param),text}),_riot.tag2("alps-account-nav",'<alps-account-svg></alps-account-svg><div class="alps-account-nav" if="{!opts.type}"><div class="alps-account-loading" show="{state===STATE.LOADING}"><alps-loading-indicator></alps-loading-indicator></div><div class="alps-login-door" show="{state===STATE.GUEST}"><button class="alps-login-door-button" onclick="{login}"><span class="alps-login-door-icon"><i class="alps-icon-guest"><svg class="vector-icon"><use xlink:href="#icon_guest"></use></svg></i></span><span class="alps-login-door-title is-pc" data-trans="account.login_or_join"></span><span class="alps-login-door-title is-mb" data-trans="account.login"></span></button></div><button class="alps-account-button" onclick="{togglePanel}" show="{state===STATE.LOGGEDIN}"><h4 class="alps-account-name">{account.nickname}</h4><div class="alps-account-mii-circle alps-background-mii-{account.favoriteColor}"><div if="{!account.miiIconUrl}" class="alps-account-mii-icon"><i class="alps-icon-mii-none"><svg class="vector-icon"><use xlink:href="#icon_mii_none"></use></svg></i></div><div if="{account.miiIconUrl}" class="alps-account-mii-icon"><img class="alps-account-icon" riot-src="{account.miiIconUrl}"></div><div if="{account.unreadCountText}" class="alps-account-unread-num-wrapper"><span class="alps-account-unread-num">{account.unreadCountText}</span></div></div></button></div><div class="alps-account-name-only" if="{opts.type===\'name\'}"><div class="alps-account-loading" show="{state===STATE.LOADING}"><alps-loading-indicator></alps-loading-indicator></div><p class="alps-account-nickname" show="{state===STATE.LOGGEDIN}">{account.nickname}</p></div>',"",'if="{!Alps.CONST.BROWSER.NO_ACCOUNT}"',function(a){if(!Alps.CONST.BROWSER.NO_ACCOUNT){var b=Alps.View.Account;this.login=b.login,this.togglePanel=b.togglePanel,this.STATE=b.STATE,b.setResizeEvent(),b.setOrientationChangeEvent(),Alps.View.Element.addElementToBody("alps-account-panel"),this.on("mount update",function(){this.account=b.userData,this.state=b.state,Alps.View.Element.translate()})}},"{ }"),_riot.tag2("alps-account-panel",'<div class="alps-account-panel alps-panel"><div id="alpsAccountPanelWindow" class="alps-account-panel-wrapper alps-panel-wrapper"><div class="alps-account-panel-content alps-panel-content"><div class="alps-account-info"><div class="alps-account-mii-circle alps-background-mii-{account.favoriteColor}"><div if="{!account.miiIconUrl}" class="alps-account-mii-icon"><i class="alps-icon-mii-none"><svg class="vector-icon"><use xlink:href="#icon_mii_none"></use></svg></i></div><div if="{account.miiIconUrl}" class="alps-account-mii-icon"><img class="alps-account-icon" riot-src="{account.miiIconUrl}"></div></div><h4 class="alps-account-name">{account.nickname}</h4><ul class="alps-account-points"><li class="alps-account-point alps-account-point-platinum"><i class="alps-icon-point-multiplication"><svg class="vector-icon"><use xlink:href="#icon_point_multiplication"></use></svg></i><span class="alps-account-point-num" if="{points.isLoaded}">{points.platinum}</span></li><li class="alps-account-point alps-account-point-gold"><i class="alps-icon-point-multiplication"><svg class="vector-icon"><use xlink:href="#icon_point_multiplication"></use></svg></i><span class="alps-account-point-num" if="{points.isLoaded}">{points.gold}</span></li></ul></div><div class="alps-account-link-wrapper"><a class="alps-account-link alps-mynintendo-link" href="https://my.nintendo.com/" target="_blank"><i class="alps-icon-mynintendo"><svg class="vector-icon"><use xlink:href="#icon_mynintendo"></use></svg></i></a><a class="alps-account-link" href="https://accounts.nintendo.com" target="_blank"><i class="alps-icon-setting"><svg class="vector-icon"><use xlink:href="#icon_setting"></use></svg></i><span data-trans="account.setting"></span></a></div><p class="alps-logout-link-wrapper"><a class="alps-logout-link" href="" onclick="{logout}"><i class="alps-icon-link"><svg class="vector-icon"><use xlink:href="#icon_link"></use></svg></i><span data-trans="account.logout"></span></a></p><div class="alps-notification-wrapper"><div class="alps-notification-list"><alps-notifications notices="{notices}"></alps-notifications></div></div></div><div id="alpsNotificationDialog" class="alps-notification-dialog"><div class="alps-notification-loading-wrapper"><div class="alps-notification-loading"><alps-loading-indicator></alps-loading-indicator></div></div><div class="alps-notification-error-wrapper"><div class="alps-notification-error"><h4 class="alps-notification-error-heading" if="{errorInfo.header}" riot-tag="raw" content="{errorInfo.header}"></h4><p class="alps-notification-error-description" riot-tag="raw" content="{errorInfo.message}"></p></div></div></div><button id="alpsAccountPanelClose" class="alps-button-close" onclick="{togglePanel}"><i class="alps-icon-close"><svg class="vector-icon"><use xlink:href="#icon_close"></use></svg></i></button></div><alps-plugin-overlay></alps-plugin-overlay></div>',"","",function(a){var b=Alps.View.Account;this.logout=b.logout,this.togglePanel=b.togglePanel,this.on("mount update",function(){this.account=b.userData,this.points=b.pointWallet,this.errorInfo=b.errorInfo})},"{ }"),_riot.tag2("alps-account-svg",'<svg xmlns="http://www.w3.org/2000/svg" style="width:0;height:0;position:absolute;visibility:hidden;"><symbol viewbox="0 0 24.8 24.8" id="icon_close"><title>icon_close</title><g id="icon_close-fill" display="none"><path id="icon_close-close_1_" display="inline" fill-rule="evenodd" clip-rule="evenodd" fill="#B4B4B4" d="M15.6,12.4l8.6-8.6 c0.9-0.9,0.9-2.3,0-3.1c-0.9-0.9-2.3-0.9-3.1,0l-8.6,8.6L3.8,0.6c-0.9-0.9-2.3-0.9-3.1,0c-0.9,0.9-0.9,2.3,0,3.1l8.6,8.6L0.6,21 c-0.9,0.9-0.9,2.3,0,3.1c0.9,0.9,2.3,0.9,3.1,0l8.6-8.6l8.6,8.6c0.9,0.9,2.3,0.9,3.1,0c0.9-0.9,0.9-2.3,0-3.1L15.6,12.4z"></path></g><g id="icon_close-outline"><path id="icon_close-close" fill-rule="evenodd" clip-rule="evenodd" d="M15.6,12.4l8.6-8.6c0.9-0.9,0.9-2.3,0-3.1 c-0.9-0.9-2.3-0.9-3.1,0l-8.6,8.6L3.8,0.6c-0.9-0.9-2.3-0.9-3.1,0c-0.9,0.9-0.9,2.3,0,3.1l8.6,8.6L0.6,21c-0.9,0.9-0.9,2.3,0,3.1 c0.9,0.9,2.3,0.9,3.1,0l8.6-8.6l8.6,8.6c0.9,0.9,2.3,0.9,3.1,0c0.9-0.9,0.9-2.3,0-3.1L15.6,12.4z"></path></g></symbol><symbol viewbox="0 0 24 28.5" id="icon_guest"><title>icon_guest</title><g id="icon_guest-fill" display="none"><g id="icon_guest-guest" display="inline"><g><path fill-rule="evenodd" clip-rule="evenodd" fill="#8C8C8C" d="M14.8,18.8H9.2c-5.1,0-9.2,4.4-9.2,9.7h24 C24,23.1,19.8,18.8,14.8,18.8z M12,18c5,0,9-4,9-9s-4-9-9-9S3,4,3,9S7,18,12,18z"></path></g></g></g><g id="icon_guest-outline"><g id="icon_guest-guest_2_"><path d="M14.8,18.8H9.2c-5.1,0-9.2,4.4-9.2,9.7h24C24,23.1,19.8,18.8,14.8,18.8z M12,18c5,0,9-4,9-9s-4-9-9-9S3,4,3,9 S7,18,12,18z"></path></g></g><g id="icon_guest-guide_x26_title" display="none"><text transform="matrix(1 0 0 1 10.8602 -3.0001)" display="inline" font-family="&apos;KozGoPr6N-Regular-90ms-RKSJ-H&apos;" font-size="12">#ffffff</text></g></symbol><symbol viewbox="0 0 13 13" id="icon_link"><title>icon_link</title><g><path d="M6.5,0C2.9,0,0,2.9,0,6.5S2.9,13,6.5,13c3.6,0,6.5-2.9,6.5-6.5S10.1,0,6.5,0z M6.1,9C6,9.1,5.9,9.1,5.7,9.1 S5.5,9.1,5.4,9c-0.2-0.2-0.2-0.5,0-0.7l1.8-1.8L5.4,4.7C5.2,4.5,5.2,4.2,5.4,4s0.5-0.2,0.7,0l2.5,2.5L6.1,9z"></path></g></symbol><symbol viewbox="0 0 14 14" id="icon_logo_mynintendo"><title>icon_logo_mynintendo</title><g><path d="M12.7,3.1l-5-2.9c-0.4-0.2-1-0.2-1.3,0l-5,2.9C1,3.3,0.7,3.8,0.7,4.3v5.5c0,0.4,0.3,1,0.7,1.2l5,2.9 c0.4,0.2,1,0.2,1.3,0l5-2.9c0.4-0.2,0.7-0.7,0.7-1.2V4.3C13.3,3.8,13,3.3,12.7,3.1z"></path><path d="M9.2,9.3C8.9,9.3,8.7,9,8.7,8.6l0-2.1c0-0.2,0-0.4-0.1-0.6c-0.2-0.3-0.7-0.3-0.9,0C7.6,6,7.6,6.2,7.6,6.5v2.4 l0,0C7.5,9.1,7.2,9.3,7,9.3c-0.2,0-0.5-0.2-0.6-0.5l0,0l0-0.2V6.5c0-0.2,0-0.4-0.1-0.6c-0.2-0.3-0.7-0.3-0.9,0 C5.3,6,5.3,6.2,5.3,6.5l0,2.2c0,0.4-0.2,0.7-0.6,0.7c-0.3,0-0.6-0.3-0.6-0.7l0-2.2C4.2,6,4.3,5.4,4.7,5C5,4.7,5.4,4.6,5.9,4.6 C6,4.6,6.6,4.6,7,5c0.3-0.3,0.7-0.4,1.1-0.4c0.2,0,0.8,0,1.2,0.4c0.5,0.4,0.5,1,0.5,1.5l0,2.1C9.8,9,9.5,9.3,9.2,9.3z"></path></g></symbol><symbol viewbox="0 0 30 30" id="icon_mii_none"><title>icon_mii_none</title><g><path d="M17.3,20.3h-4.6c-4.2,0-7.6,5.4-7.6,9.6h19.9C24.9,25.8,21.5,20.3,17.3,20.3z M15,19.7c4.1,0,7.4-3.2,7.4-7.1 c0-3.9-3.3-7.1-7.4-7.1s-7.4,3.2-7.4,7.1C7.6,16.6,10.9,19.7,15,19.7z"></path></g></symbol><symbol viewbox="0 0 202 32" id="icon_mynintendo"><title>icon_mynintendo</title><path d="M111.5,25.7h3.7V12.9h-3.7V25.7z M113.4,6.8c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2s2.2-1,2.2-2.2 C115.5,7.8,114.6,6.8,113.4,6.8z M124.8,12.5c-1.4,0-2.6,0.6-3.4,1.5l0,0v-1.1h-3.7v12.8h3.7v-6.2c0-2.5,1.4-3.6,2.9-3.6 c1.1,0,2.7,0.7,2.7,3.2v6.6h3.7v-6.9C130.7,14.5,127.7,12.5,124.8,12.5z M81.3,20.8l-3.1-8H74l5.6,12.6c-0.4,1.7-1.4,2.3-2.9,2.3 h-0.5v3.2h0.7c2.8,0,4.3-0.5,5.2-2.7c0.2-0.5,6.3-15.4,6.3-15.4h-4.2L81.3,20.8z M34.4,8.8C31.3,3.3,25.9,0,19.6,0 c-7.4,0-15,4.9-15,13.1c0,5.8,5,8.1,5.2,8.2c0.8,0.4,1.7,0.1,2.1-0.7l2.8-5.3l2,4c0.3,0.5,0.8,0.9,1.5,0.9s1.2-0.3,1.5-0.9l2-4 l2.8,5.2c0.4,0.8,1.4,1.1,2.2,0.7c0.8-0.4,1.1-1.4,0.7-2.2l-4.2-8c-0.3-0.5-0.9-0.9-1.5-0.9s-1.2,0.3-1.5,0.9l-2,3.9l-2-3.9 c-0.3-0.5-0.8-0.9-1.4-0.9c-0.6,0-1.2,0.3-1.5,0.9l-3.5,6.4c-0.9-0.8-2-2.2-2-4.4c0-6.2,6-9.9,11.7-9.9c5.3,0,9.9,2.9,12.3,7.9 c0.3,0.6,0.9,1,1.6,0.9c0.2,0,0.2,0,0.2,0c0.1,0,0.1,0,0.1,0c4.1,0,6.9,3.7,6.9,7c0,4-3.1,7.1-7.2,7.1c-1.6,0-3.1-0.6-3.9-1.2 c-0.6-0.5-1.4-0.5-2,0c-1.4,1.1-5.4,3.7-11,3.7C10,28.7,5.2,25,3.3,22.9c-0.6-0.7-1.6-0.8-2.3-0.2c-0.7,0.6-0.8,1.6-0.2,2.3 c0.6,0.7,6.2,7,15.8,7c5.6,0,9.8-2.1,12.1-3.7c1.4,0.8,3.2,1.2,4.8,1.2c5.9,0,10.4-4.6,10.4-10.4C44.1,14.3,40.2,9.1,34.4,8.8z M70,7.5c-0.9,0-2,0.4-2.8,2.3C66.6,11.1,62.7,20,62.7,20h-0.1c0,0-3.9-8.9-4.5-10.2c-0.8-1.9-1.9-2.3-2.8-2.3 c-1.3,0-2.5,0.9-2.5,2.9v15.3h4V15.6h0.1c0,0,3.2,7.2,3.7,8.5c0.6,1.5,1.4,1.7,2.1,1.7c0.7,0,1.4-0.2,2.1-1.7 c0.6-1.2,3.7-8.5,3.7-8.5h0.1v10.1h4V10.4C72.5,8.4,71.4,7.5,70,7.5z M104.9,18.8l-7.6-9.9c-0.8-1-1.5-1.3-2.1-1.3 c-1.4,0-2.2,0.9-2.2,2.1v16.1h4V14.6l7.6,9.9c0.8,1,1.5,1.3,2.1,1.3c1.4,0,2.2-0.9,2.2-2.1V7.6h-4V18.8z M179.8,13.8L179.8,13.8 c-0.4-0.4-1.7-1.3-3.5-1.3c-3.7,0-6.8,3.1-6.8,6.8s3.1,6.8,6.8,6.8c1.8,0,3.1-0.9,3.4-1.3h0.1v0.9h3.7V7.6h-3.7V13.8z M176.4,22.8 c-1.9,0-3.4-1.6-3.4-3.5s1.5-3.5,3.4-3.5c2,0,3.4,1.5,3.4,3.5C179.8,21.2,178.3,22.8,176.4,22.8z M191.6,12.5 c-3.8,0-6.8,3.1-6.8,6.8c0,3.8,3.1,6.8,6.8,6.8c3.8,0,6.8-3.1,6.8-6.8C198.4,15.5,195.4,12.5,191.6,12.5z M191.6,22.7 c-1.9,0-3.4-1.5-3.4-3.4s1.5-3.4,3.4-3.4s3.4,1.5,3.4,3.4S193.5,22.7,191.6,22.7z M137.6,9.3h-3.7v3.5h-2.5v3h2.5v9.8h3.7v-9.8h2.5 v-3h-2.5V9.3z M147.1,12.5c-3.9,0-6.7,3.4-6.7,6.8c0,3.5,2.9,6.8,6.7,6.8c2.8,0,5.1-1.6,6.1-3.5l-3-1.1c-0.8,1-1.8,1.4-3.1,1.4 s-2.8-0.9-3.2-2.5h7.6c1.6,0,2.5-0.3,2.5-1.5C153.9,16.3,151.5,12.5,147.1,12.5z M144,17.9c0.6-1.6,1.9-2.3,3.2-2.3 c1.9,0,2.9,1.2,3.3,2.3H144z M162.4,12.5c-1.4,0-2.6,0.6-3.4,1.5l0,0v-1.1h-3.7v12.8h3.7v-6.2c0-2.5,1.4-3.6,2.9-3.6 c1.1,0,2.7,0.7,2.7,3.2v6.6h3.7v-6.9C168.2,14.5,165.3,12.5,162.4,12.5z M201,24.2l-0.3,1l-0.3-1h-0.5v1.5h0.4v-1.1l0.3,1.1h0.3 l0.3-1.1v1.1h0.4v-1.5H201z M198.8,24.5h0.3v1.2h0.4v-1.2h0.3v-0.3h-1V24.5z"></path></symbol><symbol viewbox="0 0 8 8" id="icon_point_multiplication"><title>icon_point_multiplication</title><polygon points="8,1.2 6.8,0 4,2.8 1.2,0 0,1.2 2.8,4 0,6.8 1.2,8 4,5.2 6.8,8 8,6.8 5.2,4 "></polygon></symbol><symbol viewbox="0 0 25.7 25.5" id="icon_setting"><title>icon_setting</title><g id="icon_setting-fill" display="none"><path id="icon_setting-setting_1_" display="inline" fill="#999999" d="M22.3,12.8c0-0.6-0.1-1.2-0.2-1.8l3.5-2l-3.1-5.3l-3.5,2 c-0.9-0.8-2-1.4-3.1-1.8V0H9.8v4C8.6,4.4,7.5,5,6.6,5.7l-3.5-2L0,9l3.5,2c-0.1,0.6-0.2,1.2-0.2,1.8c0,0.6,0.1,1.2,0.2,1.8l-3.5,2 l3.1,5.3l3.5-2c0.9,0.8,2,1.4,3.1,1.8v4h6.2v-4c1.2-0.4,2.2-1,3.1-1.8l3.5,2l3.1-5.3l-3.5-2C22.3,14,22.3,13.4,22.3,12.8z M12.8,17.3c-2.5,0-4.6-2-4.6-4.5c0-2.5,2.1-4.5,4.6-4.5c2.5,0,4.6,2,4.6,4.5C17.4,15.3,15.4,17.3,12.8,17.3z"></path></g><g id="icon_setting-outline"><path id="icon_setting-setting" d="M22.3,12.8c0-0.6-0.1-1.2-0.2-1.8l3.5-2l-3.1-5.3l-3.5,2c-0.9-0.8-2-1.4-3.1-1.8V0H9.8v4 C8.6,4.4,7.5,5,6.6,5.7l-3.5-2L0,9l3.5,2c-0.1,0.6-0.2,1.2-0.2,1.8c0,0.6,0.1,1.2,0.2,1.8l-3.5,2l3.1,5.3l3.5-2 c0.9,0.8,2,1.4,3.1,1.8v4h6.2v-4c1.2-0.4,2.2-1,3.1-1.8l3.5,2l3.1-5.3l-3.5-2C22.3,14,22.3,13.4,22.3,12.8z M12.8,17.3 c-2.5,0-4.6-2-4.6-4.5c0-2.5,2.1-4.5,4.6-4.5c2.5,0,4.6,2,4.6,4.5C17.4,15.3,15.4,17.3,12.8,17.3z"></path></g></symbol></svg>',"","",function(a){}),_riot.tag2("alps-notifications",'<a each="{notifications}" href="{alpsLinkHref}" target="{alpsLinkTarget}" class="{alps-notification: true, alps-notification-em: alpsEmText &amp;&amp; !alpsSaleFlag,        alps-notification-em-sale: alpsSaleFlag, alps-notification-special: alpsBanner,        alps-notification-readed: status === \'READ\'}" onclick="{parent.onClickNotification}"><img if="{alpsBanner}" class="alps-notification-banner" riot-src="{alpsBanner}"><div if="{alpsEmText}" class="alps-notification-bubble"><h4 if="{alpsSaleFlag}" class="alps-notification-bubble-title" data-trans="account.sale"></h4><p class="alps-notification-bubble-description" riot-tag="raw" content="{alpsEmText}"></p></div><div class="alps-notification-content"><div if="{alpsIcon}" class="alps-notification-icon"><img riot-src="{alpsIcon}" width="64" height="64"></div><p class="alps-notification-message" riot-tag="raw" content="{title}"></p></div><h4 class="alps-notification-date">{alpsDateText}</h4></a>',"",'if="{notificationVisible}"',function(a){var b=Alps.View.Account,c=Alps.Notifications.Manager;this.on("mount update",function(){this.notifications=c.notifications,this.notificationVisible=b.notificationVisible}),this.onClickNotification=function(a){return c.onClickNotification(a.item,function(a,c){a||b.startUpdateNotifications()})}.bind(this),this.on("mount update",function(){Alps.View.Element.translate()})},"{ }"),_riot.tag2("raw","<span></span>","","",function(a){this.on("mount updated",function(){this.root.innerHTML=a.content})}),function(){var a;a=window.Alps={View:{},Session:{}},a.CONST=function(){function a(){}var b,c,d,e;return a.CLASS_IS_OVERLAY_OPEN="alps-is-open-overlay",a.ACCOUNT_READY_EVENT="alpsAccountReady",a.ALPS_TIMEOUT_EVENT="alpsTimeout",a.SESSION_MSG={CONNECT_SUCCEEDED:"CONNECT_SUCCEEDED",CONNECT_FAILED:"CONNECT_FAILED",UNSUBSCRIBE:"UNSUBSCRIBE",GET_USER_DATA:"GET_USER_DATA",INVALIDATE:"INVALIDATE",GET_POINT_WALLET:"GET_POINT_WALLET",PROGRESS_MISSION_STATUS:"PROGRESS_MISSION_STATUS",CONNECTED_STATUS_PARSED:"CONNECTED_STATUS_PARSED"},e=navigator.userAgent.toLowerCase(),b={WII:/opera/.test(e)&&/nintendo\swii/.test(e),WIIU:/nintendo\swiiu/.test(e),DSI:/nintendo\sdsi/.test(e),DS3:/nintendo\s3ds/.test(e)&&!/new\snintendo\s3ds/.test(e),NEW3DS:/new\snintendo\s3ds/.test(e),NSWITCH:/nintendo\sswitch/.test(e),SAFARI:/safari/.test(e)&&!/chrome/.test(e),FIREFOX:/firefox/.test(e),ANDROID_NOT_CHROME:/android/.test(e)&&/linux;\su;/.test(e)&&!/chrome/.test(e)},b.NO_ACCOUNT=b.WII||b.WIIU||b.DSI||b.DS3||b.NEW3DS||b.NSWITCH,a.BROWSER=b,d=navigator.platform,c={WINDOWS:/Win/.test(d),MAC:/Mac/.test(d),IOS:/iphone|ipad|ipod/.test(e),IOS8:/iphone|ipad|ipod/.test(e)&&/cpu\sos\s8_/.test(e),ANDROID:/android/.test(e)},a.OS=c,a}()}.call(this),function(){Alps.Analytics=function(){function a(){}var b,c,d,e;return e=[],d=[],b=function(a){window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(a)},c=function(a){var b,c,d;return c=new Date(1e3*a),b=function(a){return("0"+a).slice(-2)},d="YYYY-MM-DD",d=d.replace(/YYYY/g,c.getFullYear()).replace(/MM/g,b(c.getMonth()+1)).replace(/DD/g,b(c.getDate()))},a.sendDisplayNotification=function(){var a,d,f,g,h,i;if(i=Alps.Session.Storage.getCachedNotifications(),g=i&&i.items)for(d=0,h=g.length;h>d&&(f=g[d],a=c(f.deliversAt)+"_"+f.event,!(e.indexOf(a)>=0));d++)b({event:"NotificationView",eventCategory:"Notification",eventAction:"view",eventLabel:a}),e.push(a)},a.sendClickNotification=function(a,e){var f;f=c(a)+"_"+e,d.indexOf(f)>=0||(b({event:"NotificationClick",eventCategory:"Notification",eventAction:"click",eventLabel:f}),d.push(f))},a}()}.call(this),function(){var a;Alps.mountRiot=function(a){return a||(a="*"),_riot.mount(a)},a=!1,Alps.setECFlag=function(b){a=b},Alps.isEC=function(){return a},Alps.on=function(a,b){"login"===a&&Alps.Util.addReadyEventHandler(function(a){return function(){var a;a=Alps.Session.Account.getInstance(),a.on(Alps.CONST.SESSION_MSG.CONNECT_SUCCEEDED,function(a,c){b(null,a)}),a.on(Alps.CONST.SESSION_MSG.CONNECT_FAILED,function(a,c){b(a||{},null)})}}(this))}}.call(this),function(){Alps.translate=function(a,b){var c,d,e,f,g,h,i;for(b||(b={}),c=Alps.MESSAGE,i=a.split("."),e=0,f=i.length;f>e;e++)if(h=i[e],c=c[h],!c)return d="(Alps.translate) Warning : messageId '"+a+"' does not found.","";return g=c,g=g.replace(/\{\{(.*?)\}\}/g,function(a,c){return b[c]||""})}}.call(this),function(){Alps.Util=function(){function a(){}var b,c,d,e;return b="_alpsTimeoutInternal",_riot.observable(a),c=3e4,e=c,d=0,a.extend=function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},a.addTimeoutEventHandler=function(c){return a.on(b,c)},a.startTimeoutCheck=function(){0!==d&&window.clearTimeout(d),d=window.setTimeout(function(){d=0,a.trigger(b),Alps.Util.raiseCustomEvent(document,Alps.CONST.ALPS_TIMEOUT_EVENT)},e)},a.endTimeoutCheck=function(){0!==d&&(window.clearTimeout(d),d=0)},a.setTimeoutMilliseconds=function(b){e=b||c,0!==d&&a.startTimeoutCheck()},a.addReadyEventHandler=function(a){return document.addEventListener("nintendoReady",a,!1)},a.raiseCustomEvent=function(a,b,c){var d;return"function"==typeof CustomEvent?d=new CustomEvent(b,{detail:c}):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!0,!0,c)),a.dispatchEvent(d)},a}()}.call(this),function(){}.call(this),function(){Alps.MESSAGE={account:{login_or_join:"Log in / Sign up",login:"Log in",goto_members:"Rewards Program",sale:"Sale",notification_guide:"Your personal notifications and other useful information will appear here.",nintendo_account:"",mynintendo:"My Nintendo",setting:"Settings\r\n",logout:"Sign out",notify:{minutes:"%m minute(s) ago",hours:"%h hour(s) ago",days:"%d day(s) ago",older:"%M.%d.%y"},to_notification_list:"Notifications"},error:{heading:"An error has occurred.",general:'Please try again later.<br><br>\r\n\r\nIf the problem persists, please make a note of the error code and use the <a href="http://en-americas-support.nintendo.com/app/contact">Contact Us</a> link to report the error.'}}}(),function(){Alps.View.Element=function(){function a(){}return a.hasClass=function(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)},a.addClass=function(b,c){b.classList?b.classList.add(c):a.hasClass(b,c)||(b.className+=" "+c)},a.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("\\b"+b+"\\b","g"),"")},a.getCurrentStyle=function(a){return window.getComputedStyle?window.getComputedStyle(a,""):a.currentStyle||a.style},a.getElementLeft=function(b){return"undefined"!=typeof b.offsetLeft?b.offsetLeft:parseInt(a.getCurrentStyle(b).left,10)},a.getElementWidth=function(b){return"undefined"!=typeof b.offsetWidth?b.offsetWidth:parseInt(a.getCurrentStyle(b).width,10)},a.getElementTop=function(b){return"undefined"!=typeof b.offsetTop?b.offsetTop:parseInt(a.getCurrentStyle(b).top,10)},a.getElementHeight=function(b){return"undefined"!=typeof b.offsetHeight?b.offsetHeight:parseInt(a.getCurrentStyle(b).height,10)},a.getElementClientWidth=function(b){var c;return"undefined"!=typeof b.clientWidth?b.clientWidth:"undefined"!=typeof b.getBoundingClientRect?(c=b.getBoundingClientRect(),c.right-c.left):a.getElementWidth(b)},a.getElementClientHeight=function(b){var c;return"undefined"!=typeof b.clientHeight?b.clientHeight:"undefined"!=typeof b.getBoundingClientRect?(c=b.getBoundingClientRect(),c.bottom-c.top):a.getElementHeight(b)},a.addElementToBody=function(a){var b;b=document.getElementsByTagName(a),0===b.length&&(b=document.createElement(a),document.body.appendChild(b),_riot.mount(b))},a.setText=function(a,b){var c;c=document.createTextNode(b),a.innerHTML="",a.appendChild(c)},a.translate=function(){var b,c;b="data-trans",c=document.querySelectorAll("["+b+"]"),[].forEach.call(c,function(c){return a.setText(c,Alps.translate(c.getAttribute(b)))})},a.addEventTransitionEnd=function(a,b){return a.addEventListener("oTransitionEnd",b,!1),a.addEventListener("mozTransitionEnd",b,!1),a.addEventListener("webkitTransitionEnd",b,!1),a.addEventListener("transitionend",b,!1)},a.removeEventTransitionEnd=function(a,b){return a.removeEventListener("oTransitionEnd",b,!1),a.removeEventListener("mozTransitionEnd",b,!1),a.removeEventListener("webkitTransitionEnd",b,!1),a.removeEventListener("transitionend",b,!1)},a}()}.call(this),function(){Alps.Session.Account=function(){function a(){var a,b;a=window.location,b=a.origin||a.protocol+"//"+a.hostname+(a.port?":"+a.port:""),ninAcc.init({eshopOrigin:"https://api.ec.nintendo.com",connectOrigin:"https://accounts.nintendo.com",apiOrigin:"https://api.accounts.nintendo.com",appsOrigin:"https://apps.accounts.nintendo.com",clientId:"e56201e414c97a10",clientOrigin:b,responseType:["code","token","id_token"],scope:c}),_riot.observable(this),this.sessionState=null,this.subscribeId=null,this.isStatusRetrieved=!1,this.isGettingConnectedStatus=!1}var b,c,d,e,f,g;return d=Alps.CONST.SESSION_MSG,c=["openid","userinfo.profile","userinfo.mii","userinfo.birthday","userinfo.linkedIds","userNotificationMessage:anyClients","userNotificationMessage:anyClients:write","eshopPrice","eshopDemo","eshopDevice","missionStatus:progress","pointWallet"],b=36e5,g=null,a.getInstance=function(){return g||(g=new a),g},f=function(){return{scope:c}},e=function(a,b,c,e){var f,g;g=Alps.Session.Storage.getLoginSession(),f={response:{code:g.code,idToken:g.idToken}},e||a.trigger(d.CONNECT_SUCCEEDED,f,b),c&&c(null,f)},a.prototype.getConnectedStatus=function(a,b,c,d){var g,h;return!d&&this.isStatusRetrieved&&(h=Alps.Session.Storage.getLoginSession(),h&&h.expiresAt&&h.expiresAt>Date.now())?void window.setTimeout(function(d){return function(){e(d,a,b,c)}}(this),0):(this.isStatusRetrieved=!1,this.isGettingConnectedStatus=!0,g=f(),void ninAcc.oauth.getConnectedStatus(g,function(c){return function(d,e){c.parseConnectedStatus("getConnectedStatus",d,e,a,b)}}(this)))},a.prototype.getAuthCode=function(){return this.getConnectedStatus({noUser:!0})},a.prototype.connect=function(a){var b;this.isGettingConnectedStatus=!0,b=f(),this.assignSessionState(null),ninAcc.oauth.connect(b,function(b){return function(c,d){b.parseConnectedStatus("connect",c,d,a,null)}}(this))},a.prototype.parseConnectedStatus=function(a,b,c,f,g){var h,i;i=c&&c.response&&c.response.sessionState||b&&b.response&&b.response.sessionState,this.assignSessionState(i),this.isGettingConnectedStatus=!1,c?(h=c.response&&c.response.expiresIn?Date.now()+1e3*(Number(c.response.expiresIn)-60):0,Alps.Session.Storage.setLoginSession(i,!0,c.response&&c.response.code,c.response&&c.response.idToken,h),this.isStatusRetrieved=!0,e(this,f,g,!1)):(Alps.Session.Storage.setLoginSession(i,!1,null,null,0),this.trigger(d.CONNECT_FAILED,b,f),g&&g(b,null)),this.trigger(d.CONNECTED_STATUS_PARSED,b,c,f)},a.prototype.assignSessionState=function(a){this.sessionState!==a&&(this.sessionState&&(this._unsubscribe(this.subscribeId),this.subscribeId=null),a&&(this.subscribeId=this._subscribeSessionState(a)),this.sessionState=a)},a.prototype._subscribeSessionState=function(a){return ninAcc.event.subscribe("oauth.sessionStateChange",{sessionState:a},function(a){return function(b,c){return a.subscriptionCallback(b,c)}}(this))},a.prototype._unsubscribe=function(a){var b;if(a)try{return ninAcc.event.unsubscribe(a)}catch(c){return b=c,!1}},a.prototype.subscriptionCallback=function(a,b){b&&"changed"===b.status&&(Alps.Session.Storage.clearAll(),this.isStatusRetrieved=!1,this.trigger(d.INVALIDATE),this.getConnectedStatus())},a.prototype.logout=function(){ninAcc.oauth.logout(function(a){return function(a){}}(this))},a.prototype.deferForConnectedStatus=function(a){this.isGettingConnectedStatus?this.one(d.CONNECTED_STATUS_PARSED,function(b){return function(){b.deferForConnectedStatus(a)}}(this)):a()},a.prototype.getUserData=function(){return this.deferForConnectedStatus(function(a){return function(){ninAcc.api.user.get({id:"me"},function(b,c){var e,f,g,h;return c?(h=Alps.Session.Storage.getUserData(),g=new Alps.Session.UserData(c),Alps.Session.Storage.setUserData(g),f=(h&&h.getNNAId())!==g.getNNAId(),e=(h&&h.getLanguage())!==g.getLanguage()):(Alps.Session.Storage.removeUserData(),g=null,f=!1,e=!1),a.trigger(d.GET_USER_DATA,b,g,f,e)})}}(this))},a.prototype.getPointWallet=function(a){this.deferForConnectedStatus(function(b){return function(){ninAcc.api.pointWallet.get({userId:a},function(a,c){b.trigger(d.GET_POINT_WALLET,a,c)})}}(this))},a.prototype.getPrice=function(a,b,c,d,e){this.deferForConnectedStatus(function(f){return function(){var f;f=d.split(","),ninAcc.api.eshopPrice.get({country:c,lang:b,ids:f,personalized:a},function(a,b){e(a,b)})}}(this))},a.prototype.progressMissionStatus=function(a,b,c){this.deferForConnectedStatus(function(d){return function(){var d,e,f;f=Alps.Session.Storage,e=f.getMissionLimitEndsAt(b),d=Date.now()-1e3*e,d>0&&ninAcc.api.missionStatus.progress({userId:a,missionId:b,steps:1},function(a,d){var e,g,h,i;d?i=d.limitEndsAt||0:(i=a.detail.limitEndsAt||0,g=a.status,e=a.errorCode),f.setMissionLimitEndsAt(b,i),h=!!d,c&&c(h,g,e)})}}(this))},a.prototype.downloadDemo=function(a,b){this.deferForConnectedStatus(function(c){return function(){ninAcc.api.eshopDemo.create({id:a},function(a,c){var d,e,f,g;g=!a,g||(f=a.status,d=a.errorCode,e=a.detail.error),b(g,f,d,e)})}}(this))},a.prototype.getOwnedDevices=function(a,c){var d,e;if(e=Alps.Session.Storage,!c&&(d=e.getOwnedDevices())){if(d.expiresAt&&d.expiresAt>Date.now())return void window.setTimeout(function(b){return function(){a(null,{devices:d.devices})}}(this),0);e.removeOwnedDevices()}this.deferForConnectedStatus(function(c){return function(){ninAcc.api.sendRequestToEshop({method:"GET",path:"/v1/my/devices",noAuth:!1},function(c,d){d&&e.setOwnedDevices(d.devices,Date.now()+b),a(c,d)})}}(this))},a.runWithInstance=function(b){g?b(g):Alps.Util.addReadyEventHandler(function(){b(a.getInstance())})},a.runWithConnectedStatus=function(b,c){a.runWithInstance(function(a){a.getConnectedStatus(null,function(c,d){b(a,d)},!0,c&&c.force)})},a}()}.call(this),function(){Alps.Session.Storage=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n;return i="1.5",e="alps/",b=e+"loginSession",f=e+"userData",g=e+"userNotifications",h=e+"userNotificationsDate",c=e+"missionlimitEndsAt",d=e+"ownedDevices",n=window.localStorage,m=function(){var a,b;try{return b=e+"__storage_test__",n.setItem(b,b),n.removeItem(b),!0}catch(c){return a=c,!1}}(),j=function(a){var b;return m?b=JSON.parse(n.getItem(a)):null},l=function(a,b){return m?n.setItem(a,JSON.stringify(b)):void 0},k=function(a){return m?n.removeItem(a):void 0},a.getLoginSession=function(){return j(b)},a.setLoginSession=function(a,c,d,e,f){l(b,{sessionState:a,isConnected:c,code:d,idToken:e,expiresAt:f,version:i})},a.removeLoginSession=function(){return k(b)},a.getValidLoginSessionState=function(){var a;return a=this.getLoginSession(),a&&a.sessionState||""},a.isLatestVersion=function(a){return a===i},a.getUserData=function(){var a;return a=j(f),a?new Alps.Session.UserData(a):null},a.setUserData=function(a){l(f,a.getRawData())},a.removeUserData=function(){return k(f)},a.getCachedNotifications=function(){return j(g)},a.setCachedNotifications=function(a){l(g,a)},a.removeCachedNotifications=function(){return k(g)},a.getCachedNotificationsDate=function(){return new Date(j(h))},a.setCachedNotificationsDate=function(a){l(h,a.getTime())},a.removeCachedNotificationsDate=function(){return k(h)},a.getMissionLimitEndsAt=function(a){var b,d;return d=j(c)||{},b=d[a]||0,b=0>b?0:b},a.setMissionLimitEndsAt=function(a,b){var d;b||(b=0),d=j(c)||{},d[a]=b,l(c,d)},a.removeMissionLimitEndAt=function(){return k(c)},a.clearAll=function(){this.removeLoginSession(),this.removeUserData(),this.removeCachedNotifications(),this.removeCachedNotificationsDate(),this.removeMissionLimitEndAt(),this.removeOwnedDevices()},a.getOwnedDevices=function(){return j(d)},a.setOwnedDevices=function(a,b){l(d,{devices:a,expiresAt:b})},a.removeOwnedDevices=function(){return k(d)},a}()}.call(this),function(){Alps.View.Overlay=function(){function a(){}return a.targetFunc=null,a.togglePanel=function(b){null!==a.targetFunc&&a.targetFunc(b)},a}()}.call(this),function(){Alps.View.Panel=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return e="alps-is-open-global",d=["alps-is-open-global","alps-is-open-account","alps-is-open-search","alps-is-open-overlay"],c="alps-is-lock-scroll",f="alps-is-direction-r",g="alps-plugin-overlay",b="alps-global-panel",v=document.documentElement,h=Alps.View.Element,q=null,r=null,s=null,p=null,u=function(a){return document.getElementsByClassName(a)[0]},w=function(){q=document.body.style.width,r=h.getElementWidth(document.body),p=h.getCurrentStyle(document.body).direction,"rtl"===p?h.addClass(v,f):h.removeClass(v,f)},o=function(){var a;a=h.getElementWidth(document.body),a===r?s=null:(s=a-r,document.body.style.width=r.toString()+"px")},A=function(){null!==s&&(document.body.style.width=(h.getElementWidth(v)-s).toString()+"px")},z=function(){document.body.style.width=q,s=null},a.isPanelOpen=function(a,b){return h.hasClass(document.body,b)},a.togglePanel=function(b,d,e){var f;a.removeOtherOpenPanelClass(d),h.hasClass(document.body,d)?a.closePanel(b,d):(f=!h.hasClass(v,c),f&&(w(),h.addClass(v,c)),e||(e=function(c){a.togglePanel(b,d)}),Alps.View.Overlay.targetFunc=e,h.addClass(document.body,Alps.CONST.CLASS_IS_OVERLAY_OPEN),h.addClass(document.body,d),a.updateCloseTargetHeight(b),f&&o())},a.closePanel=function(a,b){h.hasClass(document.body,b)&&(h.removeClass(v,c),h.removeClass(document.body,b),h.removeClass(document.body,Alps.CONST.CLASS_IS_OVERLAY_OPEN),z())},a.updateCloseTargetHeight=function(a){var b,c,d;c=document.documentElement.clientHeight,b=u(g),d=u(a),c<d.offsetHeight?b.style.height=d.offsetHeight+"px":b.style.height=c+"px"},a.setResizeEvent=function(b,c){return window.addEventListener("resize",function(d){a.updateCloseTargetHeight(b),A(),c&&c(d)})},a.setOrientationChangeEvent=function(a,b){return window.addEventListener("orientationchange",function(a){b&&b(a)})},a.removeOtherOpenPanelClass=function(a){return d.forEach(function(b){a!==b&&h.removeClass(document.body,b)})},l=0,m=1,n=2,j=3,i=4,k=5,t=function(a,b){var c,d,e,f,g,i,k,o;i=b.style,g=h.getElementWidth(b),k=i.overflow,o=i.overflowY,i.overflowY="",i.overflow="hidden",f=h.getElementWidth(b),e=h.getElementClientWidth(b),i.overflow="scroll",d=h.getElementWidth(b),c=h.getElementClientWidth(b),i.overflow=k,i.overflowY=o,a[l]=!0,a[m]=g,f===d?a[n]=e-c:a[n]=d-f,a[j]=f-e},y=function(){return window.matchMedia?!window.matchMedia("screen and (min-width: 641px)").matches:!1},x=function(a,b,c){b[l]||t(b,a)},B=function(a,b,c){var d,e,f,g;x(a,b,c),g=h.getElementWidth(a),d=h.getElementClientWidth(a),f=b[i],e=c&&g!==d+b[j],b[k]=e,f=e?b[m]+b[n]:b[m],b[i]!==f&&(0===f?a.style.width="":a.style.width=f.toString()+"px",b[i]=f)},a.updatePanelWidth=B,a}()}.call(this),function(){Alps.Api=function(){function a(){}var b;return b=null,a.getUserData=function(a){Alps.Util.addReadyEventHandler(function(){var b;b=Alps.Session.Account.getInstance(),b.on(Alps.CONST.SESSION_MSG.GET_USER_DATA,function(b,c,d,e){a(b,c);
})})},a.requestIdToken=function(a,b){Alps.Session.Account.runWithConnectedStatus(function(b,c){a(c&&c.response&&c.response.idToken)},b)},a.requestSessionData=function(a){Alps.Session.Account.runWithConnectedStatus(function(b,c){a(c&&c.response)})},a.getCommonPrice=function(a,b,c,d){Alps.Session.Account.runWithInstance(function(e){e.getPrice(!1,a,b,c,function(a,b){d(a,b)})})},a.getPrice=function(a,b){Alps.Session.Account.runWithInstance(function(c){var d;d=Alps.Session.Storage.getUserData(),d&&c.getPrice(!0,d.getLanguage().split("-")[0],d.getCountry(),a,function(a,c){b(a,c)})})},a.progressMissionStatus=function(a,b){Alps.Session.Account.runWithInstance(function(c){var d;d=Alps.Session.Storage.getUserData(),d&&c.progressMissionStatus(d.getUserId(),a,b)})},a.downloadDemo=function(a,b){Alps.Session.Account.runWithInstance(function(c){var d;d=Alps.Session.Storage.getUserData(),d&&c.downloadDemo(a,b)})},a.getLoginMissionId=function(){return b},a.setLoginMissionId=function(a){b=a},a.getIdToken=function(){var a;return a=Alps.Session.Storage.getLoginSession(),a&&a.idToken||null},a.setUseParentStyle=function(a){Alps.View.Account.setUseParentStyle(a)},a.setLoadingTimeout=function(a){Alps.Util.setTimeoutMilliseconds(a)},a.requestOwnedDevices=function(a,b){Alps.Session.Account.runWithInstance(function(c){c.getOwnedDevices(a,b&&b.force)})},a}()}.call(this),function(){Alps.main=function(){var a,b,c,d,e;return a=Alps.CONST.SESSION_MSG,e=Alps.View.Account,b=null,Alps.Util.startTimeoutCheck(),Alps.Util.addReadyEventHandler(function(){var c,d,e,f,g;f=Alps.Session.Storage,e=f.getValidLoginSessionState(),d=f.getLoginSession(),g=d&&d.version,c=f.isLatestVersion(g),d&&c&&(d.isConnected?b.trigger(a.CONNECT_SUCCEEDED):b.trigger(a.CONNECT_FAILED)),e&&c?b.assignSessionState(e):b.getConnectedStatus()}),b=Alps.Session.Account.getInstance(),e.sessionAccount=b,Alps.account=b,c=function(a){throw location.href="#",new Error("handleRequestError")},b.on(a.CONNECT_SUCCEEDED,function(c,d){var e,f,g;Alps.Util.endTimeoutCheck(),d&&d.noUser||(e=6e4,g=Alps.Session.Storage.getUserData(),f=g&&g.getAlpsCreatedAt(),!Alps.isEC()&&f&&Date.now()-f<e?this.trigger(a.GET_USER_DATA,null,g,!1,!1):b.getUserData())}),b.on(a.CONNECT_FAILED,function(a,b){Alps.Util.endTimeoutCheck(),e.setLoggedout()}),b.on(a.GET_USER_DATA,function(a,c,d,f){var g,h;f&&(g=Alps.Session.Storage,g.removeCachedNotifications(),g.removeCachedNotificationsDate(),Alps.Notifications.Manager.setIsLoaded(!1)),c?(e.setUserData(c),e.setLoggedin(),h=c.getUserId(),b.progressMissionStatus(h,Alps.Api.getLoginMissionId()||"07537bb8c08d03a7")):e.setLoggedout()}),b.on(a.GET_POINT_WALLET,function(a,b){b?e.setPointWallet(b):e.setErrorState(a)}),d=document.documentElement,Alps.CONST.BROWSER.WIIU?Alps.View.Element.addClass(d,"alps-ua-wiiu"):Alps.CONST.BROWSER.NEW3DS?Alps.View.Element.addClass(d,"alps-ua-new3ds"):Alps.CONST.BROWSER.DS3?Alps.View.Element.addClass(d,"alps-ua-3ds"):Alps.CONST.BROWSER.SAFARI?Alps.View.Element.addClass(d,"alps-ua-safari"):Alps.CONST.BROWSER.FIREFOX&&Alps.View.Element.addClass(d,"alps-ua-firefox"),Alps.CONST.BROWSER.ANDROID_NOT_CHROME&&Alps.View.Element.addClass(d,"alps-ua-android-browser"),Alps.CONST.OS.WINDOWS?Alps.View.Element.addClass(d,"alps-os-windows"):Alps.CONST.OS.MAC?Alps.View.Element.addClass(d,"alps-os-mac"):Alps.CONST.OS.IOS?Alps.View.Element.addClass(d,"alps-os-ios"):Alps.CONST.OS.ANDROID&&Alps.View.Element.addClass(d,"alps-os-android"),b}}.call(this),function(){Alps.Notifications||(Alps.Notifications={}),Alps.Notifications.Manager=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return a.notifications=[],n=0,m=null,k=!1,l=null,d=Alps.translate("account.notify.minutes"),c=Alps.translate("account.notify.hours"),b=Alps.translate("account.notify.days"),e=Alps.translate("account.notify.older"),f="javascript:void(0)",g="_new",r=function(){a.notifications=[],n=0,m=null,k=!1,l=null},j=function(){var b,c;c=Alps.Session.Storage.getCachedNotifications(),b=Alps.Session.Storage.getCachedNotificationsDate(),c&&c.items&&(a.notifications=c.items,n=c.numberOfUnread,m=c.nextCursor,l=b,k=!0,v(!0)),Alps.Util.addReadyEventHandler(function(){var a;a=Alps.Session.Account.getInstance(),a.on(Alps.CONST.SESSION_MSG.INVALIDATE,function(){r()})})},i=function(a,b){return a=a.toString(),a.length>=b?a:Array(b-a.length).join("0")+a},t=function(a){var f,g,h,j;return f=new Date(1e3*a),g=new Date-f,36e5>g?(6e4>g&&(g=6e4),h=d,f=new Date(g)):864e5>g?(h=c,f=new Date(g)):2592e5>g?(h=b,f=new Date(g)):(h=e,g=null),j=null===g?[f.getUTCSeconds(),f.getUTCMinutes(),f.getUTCHours(),f.getUTCDate(),f.getUTCMonth()+1,f.getUTCFullYear()]:[Math.floor(g/1e3),Math.floor(g/6e4),Math.floor(g/36e5),Math.floor(g/864e5),0,0],h=h.replace(/%ss/g,i(j[0],2)).replace(/%s/g,j[0]).replace(/%mm/g,i(j[1],2)).replace(/%m/g,j[1]).replace(/%hh/g,i(j[2],2)).replace(/%h/g,j[2]).replace(/%dd/g,i(j[3],2)).replace(/%d/g,j[3]).replace(/%MM/g,i(j[4],2)).replace(/%M/g,j[4]).replace(/%yyyy/g,i(j[5],4)).replace(/%yy/g,i(j[5],2).substr(-2)).replace(/%y/g,j[5])},o=function(a,b){"click"===b.type&&b.handler&&"BrowserView"===b.handler.type&&(a.alpsLinkHref=b.handler.href,a.alpsLinkTarget=g)},h=function(){var b;b=Date.now()/1e3,a.notifications.forEach(function(a){a.alpsDateText=t(a.deliversAt)})},s=function(){a.notifications.sort(function(a,b){return b.deliversAt<a.deliversAt?-1:b.deliversAt>a.deliversAt?1:0})},u=function(){k&&(Alps.Session.Storage.setCachedNotifications({numberOfUnread:n,nextCursor:m,items:a.notifications}),l=new Date,Alps.Session.Storage.setCachedNotificationsDate(l))},v=function(a){h(),a||u()},p=function(b){var c;a.notifications=[],c=Date.now()/1e3,b&&(n=b.numberOfUnread,m=b.nextCursor),b&&b.items.forEach(function(b){b.alpsDateText=t(b.deliversAt),b.variables&&"icon"===b.variables.template&&(b.alpsIcon=b.variables.iconUrl,b.alpsSaleFlag=b.variables.emText&&b.variables.sale,b.alpsEmText=b.variables.emText),b.variables&&"banner"===b.variables.template&&(b.alpsBanner=b.variables.bannerUrl),b.actions&&b.actions.forEach(function(a){o(b,a)}),b.alpsLinkHref||(b.alpsLinkHref=f),a.notifications.push(b)}),s(),u()},q=function(a,b){var c,d,e;d=Alps.Session.Storage.getUserData(),d&&(c=b&&b.queries||{},c.count||(c.count=1e3),c.language||(c.language=d.getLanguage()),e=d.getUserId(),Alps.Session.Account.getInstance().deferForConnectedStatus(function(){ninAcc.api.userMessage.getAll({userId:e,queryParams:c},function(b,c){b?b.status<400&&(c={},b=null,v()):p(c),a(b,c)})}))},a.requestGetFirst=function(a){q(a)},a.requestGetNext=function(a){q(a,{cursor:m})},a.refreshNotifications=function(a){q(a)},a.postReadStatus=function(a,b){var c,d;c=Alps.Session.Storage.getUserData(),c&&"READ"!==a.status&&(d=c.getUserId(),Alps.Session.Account.getInstance().deferForConnectedStatus(function(){ninAcc.api.userMessage.patch({userId:d,messageId:a.messageId},[{op:"replace",path:"/status",value:"READ"}],function(a,c){a&&a.status<400&&(c={},a=null),b&&b(a,c)})}))},a.onClickNotification=function(a,b){return this.postReadStatus(a,b),a.alpsLinkHref!==f&&Alps.Analytics.sendClickNotification(a.deliversAt,a.event),!0},a.getLastRetrievalDate=function(){return l},a.getUnreadCount=function(){return n},a.isLoaded=function(){return k},a.setIsLoaded=function(a){k=a},j(),a}()}.call(this),function(){Alps.Session.UserData=function(){function a(a){this.data=a,this.data?this.data._alpsCreatedAt_||(this.data._alpsCreatedAt_=Date.now()):this.data={}}return a.prototype.getRawData=function(){return this.data},a.prototype.getNNAId=function(){return this.data.links&&this.data.links.nintendoNetwork&&this.data.links.nintendoNetwork.id},a.prototype.getAlpsCreatedAt=function(){return this.data._alpsCreatedAt_},a.prototype.getUserId=function(){return this.data.id},a.prototype.getNickname=function(){return this.data.nickname},a.prototype.getGender=function(){return this.data.gender},a.prototype.getBirthday=function(){return this.data.birthday},a.prototype.getAge=function(){var a;return a=this.getBirthday(),a?this._calcAge(a,new Date):null},a.prototype._calcAge=function(a,b){return b=1e4*b.getFullYear()+100*(1+b.getMonth())+b.getDate(),a=parseInt(a.replace(/-/g,"")),Math.floor((b-a)/1e4)},a.prototype.getMiiIconUrl=function(a){var b,c,d,e;return(c=this.data.mii)?(b=c&&c.imageUriTemplate,e=Alps.Util.extend({imageOrigin:c.imageOrigin,id:c.id,etag:c.etag,format:"png",type:"face"},a),d=_UriTemplate.parse(b),d.expand(e)):""},a.prototype.getFavoriteColor=function(){var a;return a=this.data.mii,a?a.favoriteColor:""},a.prototype.getCountry=function(){return this.data.country},a.prototype.getLanguage=function(){return this.data.language},a.prototype.isAllowedAnalyticsOptedIn=function(){return this.data.analyticsOptedIn},a}()}.call(this),function(){Alps.View.Account=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return h="alps-is-open-account",d="alps-is-guest",f="alps-is-loggedin",c="alps-is-error-server",b="alps-account-panel",e="alps-is-loading-notification",g="alps-is-no-notification",i="alps-account-nav-default-style",l="alpsAccountPanelWindow",k="alpsNotificationDialog",o=3e5,j=Alps.View.Element,m=Alps.View.Panel,a.sessionAccount=null,n={LOADING:"loading",GUEST:"guest",LOGGEDIN:"loggedin",ERROR:"error"},a.userData={id:null,miiIconUrl:"",nickname:"",favoriteColor:"",unreadCount:0},t=function(){a.pointWallet={platinum:null,gold:null,isLoaded:!1,isLoading:!1}},t(),a.MII_WIDTH=128,a.STATE=n,a.state=n.LOADING,a.notificationVisible=!1,r={base:null,header:"",message:""},a.errorInfo=r,y=[],v=!1,s=null,u=!1,a.useParentStyle=!1,B=function(a){var b;b=document.getElementById(l),b&&m.updatePanelWidth(b,y,a)},z=function(){var a,b,c;b=document.getElementById(l),a=document.getElementById(k),b&&a&&(c=j.getElementHeight(b)-j.getElementTop(a),a.style.height=c.toString()+"px")},x=function(){var c,d;c=Alps.Notifications.Manager,d=c.getUnreadCount(),a.userData.unreadCount=d,d>99?a.userData.unreadCountText="99+":0===d?a.userData.unreadCountText="":a.userData.unreadCountText=d.toString(),0===c.notifications.length?(a.notificationVisible=!1,r.header="",r.message=Alps.translate("account.notification_guide"),j.addClass(document.body,g)):(a.notificationVisible=!0,j.removeClass(document.body,g)),_riot.update(),z(),B(m.isPanelOpen(b,h))},A=function(){return Alps.Notifications.Manager.refreshNotifications(function(b,c){b?a.setErrorState(b):(q(),x()),s=window.setTimeout(w,o)})},w=function(){Alps.Notifications.Manager.isLoaded()?A():s=null},p=function(){var b,c;a.notificationVisible=!0,x(),b=Alps.Notifications.Manager.getLastRetrievalDate(),b?(c=Date.now()-b.getTime(),c=c>=o?0:o-c):c=0,null!==s&&window.clearTimeout(s),s=window.setTimeout(w,c)},a.startLoadNotificationFirst=function(){var b;b=Alps.Notifications.Manager,b.isLoaded()?x():(a.notificationVisible=!1,j.addClass(document.body,e),_riot.update(),b.setIsLoaded(!0),b.requestGetFirst(function(b,c){v=!0,b?a.setErrorState(b):(j.removeClass(document.body,e),p())}))},a.startUpdateNotifications=function(){null!==s&&(window.clearTimeout(s),s=null),A()},a.togglePanel=function(c){var d;d=m.isPanelOpen(b,h),B(!d),m.togglePanel(b,h,function(b){a.togglePanel(b)}),z(),d||(a.getPointWallet(),Alps.Analytics.sendDisplayNotification())},a.getPointWallet=function(){a.pointWallet.isLoaded||a.pointWallet.isLoading||(a.pointWallet.isLoading=!0,a.sessionAccount.getPointWallet(a.userData.id))},a.setLoggedin=function(){m.closePanel(b,h),j.removeClass(document.body,d),j.removeClass(document.body,c),j.addClass(document.body,f),a.state=n.LOGGEDIN,_riot.update(),a.startLoadNotificationFirst()},a.setLoggedout=function(){m.closePanel(b,h),j.removeClass(document.body,f),j.removeClass(document.body,c),j.addClass(document.body,d),a.state=n.GUEST,t(),_riot.update()},a.login=function(b){return a.sessionAccount.connect()},a.logout=function(b){return a.sessionAccount.logout()},a.setResizeEvent=function(){return m.setResizeEvent(b,function(a){z(),B(m.isPanelOpen(b,h))})},a.setOrientationChangeEvent=function(){Alps.CONST.OS.IOS8&&m.setOrientationChangeEvent(b,function(a){return m.closePanel(b,h)})},a.setUserData=function(b){var c;c=a.userData,c.id=b.getUserId(),c.nickname=b.getNickname(),c.miiIconUrl=b.getMiiIconUrl({width:a.MII_WIDTH}),c.favoriteColor=b.getFavoriteColor(),_riot.update()},a.setPointWallet=function(b){var c,d,e,f,g,h,i;h=a.pointWallet,i=b.points,h.isLoaded=!0,h.isLoading=!1,f=function(a){return a&&a.total?a.total:0},c=function(a){return a>999999?"999999+":a},d=f(i.gold),g=0;for(e in i)"gold"!==e&&(g+=f(i[e]));h.platinum=c(g),h.gold=c(d),_riot.update()},a.isNotificationsLoaded=function(){return v},a.setErrorState=function(a){r.base=a,r.header=Alps.translate("error.heading"),r.message=Alps.translate("error.general"),j.addClass(document.body,c),j.removeClass(document.body,g),this.notificationVisible=!1,_riot.update(),z(),B(m.isPanelOpen(b,h))},q=function(){r.base=null,r.header="",r.message="",j.removeClass(document.body,c)},a.clearErrorState=function(){q(),v?x():(_riot.update(),z(),B(m.isPanelOpen(b,h)))},a.hasError=function(){return null!==r.base},a.setUseParentStyle=function(b){a.useParentStyle=b,b?j.removeClass(document.body,i):j.addClass(document.body,i)},Alps.Util.addReadyEventHandler(function(b){a.useParentStyle||j.addClass(document.body,i),Alps.Notifications.Manager.isLoaded()&&(v=!0,p())}),Alps.Util.addTimeoutEventHandler(function(){a.state=n.ERROR,_riot.update()}),a}()}.call(this),function(){var a;a=function(){var a;_riot.mount("*"),Alps.CONST.BROWSER.NO_ACCOUNT||(a=document.createElement("script"),a.type="text/javascript",a.async=!0,a.src="https://cdn.accounts.nintendo.com/jssdk/nintendo-jssdk-client.3.0.0.js",a.onload=function(){var a;a=Alps.main(),Alps.Util.raiseCustomEvent(document,Alps.CONST.ACCOUNT_READY_EVENT,a)},document.getElementsByTagName("script")[0].parentNode.appendChild(a))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):window.setTimeout(a,0)}.call(this);